-- Load UI Library (Fallback Safe)
local success, Fluent = pcall(function()
    return loadstring(game:HttpGet("https://raw.githubusercontent.com/khoitongdz/ui/refs/heads/main/.gitignore"))()
end)

if not success then
    warn("Failed to load Fluent UI. Aborting script.")
    return
end

-- Create Main Window
local Window = Fluent:CreateWindow({
    Title = "Kenon Hub",
    SubTitle = "Blox Fruits Script",
    TabWidth = 120,
    Size = UDim2.fromOffset(600, 400),
    Acrylic = true,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.End
})

print([[ 
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—
â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•â•
]])
print("ðŸ”¥ Kenon Hub for Blox Fruits ðŸ”¥")

-- Services and Player Setup
local player = game.Players.LocalPlayer
local replicatedStorage = game:GetService("ReplicatedStorage")
local workspaceEnemies = game.Workspace:WaitForChild("Enemies")

-- Global Toggles
_G.AutoFarm = false
_G.AutoBoss = false
_G.AutoBone = false
_G.FastAttack = false

-- Functions
local function findNearestEnemy()
    local closestEnemy = nil
    local shortestDistance = math.huge

    for _, enemy in pairs(workspaceEnemies:GetChildren()) do
        if enemy:FindFirstChild("HumanoidRootPart") and enemy:FindFirstChild("Humanoid") and enemy.Humanoid.Health > 0 then
            local distance = (enemy.HumanoidRootPart.Position - player.Character.HumanoidRootPart.Position).Magnitude
            if distance < shortestDistance then
                closestEnemy = enemy
                shortestDistance = distance
            end
        end
    end

    return closestEnemy
end

local function attackEnemy(target)
    if replicatedStorage:FindFirstChild("RemoteEvent") then
        replicatedStorage.RemoteEvent:FireServer("Attack", target)
    else
        warn("RemoteEvent not found!")
    end
end

local function teleportToLocation(locationCFrame)
    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        player.Character.HumanoidRootPart.CFrame = locationCFrame
    end
end

-- Auto Farm Logic
local function autoFarm()
    spawn(function()
        while _G.AutoFarm do
            pcall(function()
                -- Farm Logic (Replace with your farming logic)
                local enemy = findNearestEnemy()
                if enemy then
                    teleportToLocation(enemy.HumanoidRootPart.CFrame)
                    attackEnemy(enemy)
                end
            end)
            wait(0.1)
        end
    end)
end

-- Auto Boss Logic
local function autoFarmBoss()
    spawn(function()
        while _G.AutoBoss do
            pcall(function()
                local bossPosition = CFrame.new(1000, 200, 1000) -- Replace with boss position
                teleportToLocation(bossPosition)

                local enemy = findNearestEnemy()
                if enemy and enemy.Name == "BossNameHere" then
                    attackEnemy(enemy)
                end
            end)
            wait(0.1)
        end
    end)
end

-- Fast Attack Logic
local function fastAttack()
    spawn(function()
        while _G.FastAttack do
            pcall(function()
                replicatedStorage.Remotes.CommF_:FireServer("FastAttack")
            end)
            wait(0.01) -- Adjust for speed
        end
    end)
end

-- Auto Bone Logic
local function autoFarmBone()
    spawn(function()
        while _G.AutoBone do
            pcall(function()
                local bonePosition = CFrame.new(-9515.75, 174.85, 6079.4) -- Replace with Bone Farming location
                teleportToLocation(bonePosition)

                for _, enemy in pairs(workspaceEnemies:GetChildren()) do
                    if enemy.Name == "Demonic Soul" or enemy.Name == "Living Zombie" then
                        attackEnemy(enemy)
                    end
                end
            end)
            wait(0.1)
        end
    end)
end

-- Tabs and Features
local farmingTab = Window:AddTab("Auto Farming")
local utilityTab = Window:AddTab("Utilities")

-- Farming Features
farmingTab:AddToggle("Auto Farm", {
    Title = "Enable Auto Farm",
    Default = false,
    Callback = function(value)
        _G.AutoFarm = value
        if value then
            autoFarm()
            print("Auto Farm: ON")
        else
            print("Auto Farm: OFF")
        end
    end
})

farmingTab:AddToggle("Auto Farm Boss", {
    Title = "Enable Auto Boss",
    Default = false,
    Callback = function(value)
        _G.AutoBoss = value
        if value then
            autoFarmBoss()
            print("Auto Boss: ON")
        else
            print("Auto Boss: OFF")
        end
    end
})

farmingTab:AddToggle("Auto Farm Bone", {
    Title = "Enable Auto Bone",
    Default = false,
    Callback = function(value)
        _G.AutoBone = value
        if value then
            autoFarmBone()
            print("Auto Bone: ON")
        else
            print("Auto Bone: OFF")
        end
    end
})

-- Utility Features
utilityTab:AddToggle("Fast Attack", {
    Title = "Enable Fast Attack",
    Default = false,
    Callback = function(value)
        _G.FastAttack = value
        if value then
            fastAttack()
            print("Fast Attack: ON")
        else
            print("Fast Attack: OFF")
        end
    end
})

-- Final Touches
Window:Show()

print("Kenon Hub initialized! Use the UI menu to control features.")
